[gd_scene load_steps=55 format=3 uid="uid://ccm8e5dn14ojs"]

[ext_resource type="Script" path="res://Scripts/character.gd" id="1_gfpeq"]
[ext_resource type="Texture2D" uid="uid://bvso1q01i2eqn" path="res://Assets/Treasure Hunters/The Crusty Crew/Sprites/Pink Star/01-Idle/Idle 01.png" id="1_uxhcy"]
[ext_resource type="PackedScene" uid="uid://dav0ibxwncjko" path="res://Scenes/Dust/jump_dust.tscn" id="2_muhid"]
[ext_resource type="Texture2D" uid="uid://cfhv1ljkwuoq8" path="res://Assets/Treasure Hunters/The Crusty Crew/Sprites/Pink Star/04-Fall/Fall 01.png" id="3_6r6lj"]
[ext_resource type="Texture2D" uid="uid://c4gdqcnt504vq" path="res://Assets/Treasure Hunters/The Crusty Crew/Sprites/Pink Star/01-Idle/Idle 02.png" id="5_2bbmk"]
[ext_resource type="Texture2D" uid="uid://dpo8yir0lis5j" path="res://Assets/Treasure Hunters/The Crusty Crew/Sprites/Pink Star/01-Idle/Idle 03.png" id="6_twouu"]
[ext_resource type="Texture2D" uid="uid://d3wbac3bxr5q3" path="res://Assets/Treasure Hunters/The Crusty Crew/Sprites/Pink Star/01-Idle/Idle 04.png" id="7_3l6s7"]
[ext_resource type="Texture2D" uid="uid://c8s3vp8j1miwh" path="res://Assets/Treasure Hunters/The Crusty Crew/Sprites/Pink Star/01-Idle/Idle 05.png" id="8_pkneo"]
[ext_resource type="Texture2D" uid="uid://dl6m64vo62efm" path="res://Assets/Treasure Hunters/The Crusty Crew/Sprites/Pink Star/01-Idle/Idle 06.png" id="9_bgt1b"]
[ext_resource type="Texture2D" uid="uid://cjimjpacgli7h" path="res://Assets/Treasure Hunters/The Crusty Crew/Sprites/Pink Star/01-Idle/Idle 07.png" id="10_ylrda"]
[ext_resource type="Texture2D" uid="uid://dtgqpxgehssy1" path="res://Assets/Treasure Hunters/The Crusty Crew/Sprites/Pink Star/01-Idle/Idle 08.png" id="11_g2p6t"]
[ext_resource type="Texture2D" uid="uid://c4gln70fy03r8" path="res://Assets/Treasure Hunters/The Crusty Crew/Sprites/Pink Star/02-Run/Run 01.png" id="12_7y0wk"]
[ext_resource type="Texture2D" uid="uid://cuf3pwxlhhro0" path="res://Assets/Treasure Hunters/The Crusty Crew/Sprites/Pink Star/02-Run/Run 02.png" id="13_evd3o"]
[ext_resource type="Texture2D" uid="uid://dt6ellkxuo64u" path="res://Assets/Treasure Hunters/The Crusty Crew/Sprites/Pink Star/02-Run/Run 03.png" id="14_ocijo"]
[ext_resource type="Texture2D" uid="uid://df44mtobevt06" path="res://Assets/Treasure Hunters/The Crusty Crew/Sprites/Pink Star/02-Run/Run 04.png" id="15_8u0l4"]
[ext_resource type="Texture2D" uid="uid://dvlyq0xrv4thr" path="res://Assets/Treasure Hunters/The Crusty Crew/Sprites/Pink Star/02-Run/Run 05.png" id="16_6v8uj"]
[ext_resource type="Texture2D" uid="uid://dohhtnr8ecov" path="res://Assets/Treasure Hunters/The Crusty Crew/Sprites/Pink Star/02-Run/Run 06.png" id="17_p276c"]
[ext_resource type="PackedScene" uid="uid://dhilt0frdx637" path="res://Scenes/Dust/run_dust.tscn" id="18_0puda"]
[ext_resource type="AudioStream" uid="uid://daais4n4t0bp2" path="res://Assets/Sounds/209195__lukesharples__shoes2.wav" id="19_k28gu"]
[ext_resource type="Texture2D" uid="uid://bnbvlcbk5ngqu" path="res://Assets/Treasure Hunters/The Crusty Crew/Sprites/Pink Star/03-Jump/Jump 01.png" id="20_eetjh"]
[ext_resource type="Texture2D" uid="uid://b1puejf3nlxwo" path="res://Assets/Treasure Hunters/The Crusty Crew/Sprites/Pink Star/03-Jump/Jump 02.png" id="21_ua6wc"]
[ext_resource type="Texture2D" uid="uid://uip6gs160j2" path="res://Assets/Treasure Hunters/The Crusty Crew/Sprites/Pink Star/03-Jump/Jump 03.png" id="22_sy1hw"]
[ext_resource type="AudioStream" uid="uid://uastl1056lja" path="res://Assets/Sounds/209167__lukesharples__duhr.wav" id="23_bpdrk"]
[ext_resource type="Texture2D" uid="uid://byxi8o34o5f8r" path="res://Assets/Treasure Hunters/The Crusty Crew/Sprites/Pink Star/05-Ground/Ground 01.png" id="24_w0chp"]
[ext_resource type="Texture2D" uid="uid://dxiwysgyay4ew" path="res://Assets/Treasure Hunters/The Crusty Crew/Sprites/Pink Star/05-Ground/Ground 02.png" id="25_k85ax"]
[ext_resource type="PackedScene" uid="uid://b0ifkqlh7la8h" path="res://Scenes/Dust/fall_dust.tscn" id="26_rip5u"]
[ext_resource type="AudioStream" uid="uid://cerjyi20xif5" path="res://Assets/Sounds/209133__lukesharples__fall-to-the-floor.wav" id="27_542t8"]

[sub_resource type="Animation" id="Animation_ldt5o"]
resource_name = "idle"
length = 0.8
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [ExtResource("1_uxhcy"), ExtResource("5_2bbmk"), ExtResource("6_twouu"), ExtResource("7_3l6s7"), ExtResource("8_pkneo"), ExtResource("9_bgt1b"), ExtResource("10_ylrda"), ExtResource("11_g2p6t")]
}

[sub_resource type="Animation" id="Animation_gwx4r"]
resource_name = "run"
length = 0.6
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [ExtResource("12_7y0wk"), ExtResource("13_evd3o"), ExtResource("14_ocijo"), ExtResource("15_8u0l4"), ExtResource("16_6v8uj"), ExtResource("17_p276c")]
}
tracks/1/type = "method"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("..")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [ExtResource("18_0puda")],
"method": &"_spawn_dust"
}]
}
tracks/2/type = "audio"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("../AudioStreamPlayer2D")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"clips": [{
"end_offset": 19.2084,
"start_offset": 0.2111,
"stream": ExtResource("19_k28gu")
}],
"times": PackedFloat32Array(0)
}
tracks/2/use_blend = true

[sub_resource type="Animation" id="Animation_8t6w4"]
resource_name = "jump"
length = 0.3
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 1,
"values": [ExtResource("20_eetjh"), ExtResource("21_ua6wc"), ExtResource("22_sy1hw")]
}
tracks/1/type = "audio"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("../AudioStreamPlayer2D")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"clips": [{
"end_offset": 0.234,
"start_offset": 0.0,
"stream": ExtResource("23_bpdrk")
}],
"times": PackedFloat32Array(0)
}
tracks/1/use_blend = true

[sub_resource type="Animation" id="Animation_0xl4j"]
resource_name = "fall"
length = 0.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [ExtResource("3_6r6lj")]
}

[sub_resource type="Animation" id="Animation_vjhte"]
resource_name = "ground"
length = 0.2
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:texture")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [ExtResource("24_w0chp"), ExtResource("25_k85ax")]
}
tracks/1/type = "method"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("..")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [ExtResource("26_rip5u")],
"method": &"_spawn_dust"
}]
}
tracks/2/type = "audio"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("../AudioStreamPlayer2D")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"clips": [{
"end_offset": 0.0,
"start_offset": 0.0,
"stream": ExtResource("27_542t8")
}],
"times": PackedFloat32Array(0)
}
tracks/2/use_blend = true

[sub_resource type="AnimationLibrary" id="AnimationLibrary_r72vo"]
_data = {
"fall": SubResource("Animation_0xl4j"),
"ground": SubResource("Animation_vjhte"),
"idle": SubResource("Animation_ldt5o"),
"jump": SubResource("Animation_8t6w4"),
"run": SubResource("Animation_gwx4r")
}

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_boxor"]
animation = &"idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_5jdou"]
animation = &"run"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_xrgtm"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_apw7n"]
advance_mode = 2
advance_expression = "velocity.x != 0"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_ruqi6"]
advance_mode = 2
advance_expression = "velocity.x == 0"

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_my08q"]
states/idle/node = SubResource("AnimationNodeAnimation_boxor")
states/idle/position = Vector2(419.429, 100.216)
states/run/node = SubResource("AnimationNodeAnimation_5jdou")
states/run/position = Vector2(660.571, 99.8775)
transitions = ["Start", "idle", SubResource("AnimationNodeStateMachineTransition_xrgtm"), "idle", "run", SubResource("AnimationNodeStateMachineTransition_apw7n"), "run", "idle", SubResource("AnimationNodeStateMachineTransition_ruqi6")]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_0s8mp"]
animation = &"fall"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ip5x8"]
animation = &"ground"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_phkb0"]
animation = &"jump"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_rc5k7"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_xegt4"]
priority = 0
advance_mode = 2
advance_expression = "velocity.y < 0"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_rvhd7"]
advance_mode = 2
advance_expression = "velocity.y >= 0"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_5n5e6"]
advance_mode = 2
advance_expression = "is_on_floor()"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_o3smx"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_3ml5a"]
advance_mode = 2
advance_expression = "not is_on_floor()"

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_lylt0"]
states/Locomotion/node = SubResource("AnimationNodeStateMachine_my08q")
states/Locomotion/position = Vector2(527.429, 102.571)
states/fall/node = SubResource("AnimationNodeAnimation_0s8mp")
states/fall/position = Vector2(527.429, -138.857)
states/ground/node = SubResource("AnimationNodeAnimation_ip5x8")
states/ground/position = Vector2(667.429, -28.1983)
states/jump/node = SubResource("AnimationNodeAnimation_phkb0")
states/jump/position = Vector2(408, -29.6327)
transitions = ["Start", "Locomotion", SubResource("AnimationNodeStateMachineTransition_rc5k7"), "Locomotion", "jump", SubResource("AnimationNodeStateMachineTransition_xegt4"), "jump", "fall", SubResource("AnimationNodeStateMachineTransition_rvhd7"), "fall", "ground", SubResource("AnimationNodeStateMachineTransition_5n5e6"), "ground", "Locomotion", SubResource("AnimationNodeStateMachineTransition_o3smx"), "Locomotion", "fall", SubResource("AnimationNodeStateMachineTransition_3ml5a")]
graph_offset = Vector2(-20, -218)

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_t8f5u"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_adgus"]
states/Movement/node = SubResource("AnimationNodeStateMachine_lylt0")
states/Movement/position = Vector2(520, 100.402)
transitions = ["Start", "Movement", SubResource("AnimationNodeStateMachineTransition_t8f5u")]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_08hq3"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_alq74"]
states/Attack/node = SubResource("AnimationNodeStateMachine_adgus")
states/Attack/position = Vector2(548.286, 100.857)
transitions = ["Start", "Attack", SubResource("AnimationNodeStateMachineTransition_08hq3")]
graph_offset = Vector2(26, -144)

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_prqu1"]
radius = 7.0
height = 18.0

[node name="Pink Star" type="CharacterBody2D"]
script = ExtResource("1_gfpeq")
_jump_dust = ExtResource("2_muhid")

[node name="Sprite2D" type="Sprite2D" parent="."]
texture = ExtResource("3_6r6lj")
offset = Vector2(2.08165e-12, -6)

[node name="AnimationPlayer" type="AnimationPlayer" parent="Sprite2D"]
libraries = {
"": SubResource("AnimationLibrary_r72vo")
}

[node name="AnimationTree" type="AnimationTree" parent="Sprite2D/AnimationPlayer"]
root_node = NodePath("../..")
libraries = {
"": SubResource("AnimationLibrary_r72vo")
}
tree_root = SubResource("AnimationNodeStateMachine_alq74")
advance_expression_base_node = NodePath("../../..")
anim_player = NodePath("..")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(0, -2)
shape = SubResource("CapsuleShape2D_prqu1")

[node name="AudioStreamPlayer2D" type="AudioStreamPlayer2D" parent="."]
